(this["webpackJsonpsuper-saiyan-search-ui"]=this["webpackJsonpsuper-saiyan-search-ui"]||[]).push([[0],{59:function(e){e.exports=JSON.parse('{"hostUrl":"https://supersaiyansearchapi.co.za"}')},82:function(e,t,c){"use strict";c.r(t);var n=c(11),r=c.n(n),a=c(128),i=c(127),s=c(83),o=c(124),l=c(126),u=c(23),j=c(0),d=c.n(j),h=c(114),p=c(129),b=c(120),x=c(121),f=c(122),O=c(123),g=c(125),m=c(132),y=c(130),k=c(133),v=c(58),S=c.n(v),C=c(6),w=Object(h.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},logo:{display:"flex",justifyContent:"center",paddingTop:"24px"},search:{display:"flex",justifyContent:"space-around",paddingTop:"12px"},searchButton:{display:"flex",justifyContent:"center",paddingTop:"12px",paddingBottom:"12px"},results:{display:"flex",justifyContent:"center",paddingTop:"8px",paddingBottom:"8px"},linkCheck:{display:"flex",justifyContent:"center"},difference:{display:"flex",justifyContent:"center",position:"sticky",top:10,zIndex:1,backgroundColor:e.palette.primary.main,color:"#fff"},progress:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}},icon:{color:"rgba(255, 255, 255, 0.54)"}}})),N=function(e){var t=e.hostUrl,c=Object(j.useState)(null),n=Object(u.a)(c,2),r=n[0],a=n[1],i=Object(j.useState)(null),l=Object(u.a)(i,2),h=l[0],v=l[1],N=Object(j.useState)(!1),U=Object(u.a)(N,2),T=U[0],q=U[1],B=Object(j.useState)(!1),E=Object(u.a)(B,2),z=E[0],D=E[1],F=Object(j.useState)(""),J=Object(u.a)(F,2),K=J[0],P=J[1],R=Object(j.useState)(null),W=Object(u.a)(R,2),_=W[0],A=W[1],G=Object(j.useState)(null),I=Object(u.a)(G,2),L=I[0],H=I[1],Y=w(),M=function(){if(h){a(null),q(!0),A(null),H(null),fetch("".concat(t,"/api/products?q=").concat(h),{method:"GET"}).then((function(e){return{json:e.json(),status:e.status}})).then((function(e){if(q(!1),200===e.status)return e.json;404===e.status?(P("No products found for your search query: ".concat(h)),D(!0)):(P("An error occurred while processing your request."),D(!0))})).then((function(e){e&&a(e)})).catch((function(e){q(!1),e.toString().includes("NetworkError")?P("Error connecting to the back-end server or not connected to the internet"):P("Unexpected error occurred: ".concat(e)),D(!0)}))}},Q=function(){return Object(C.jsx)("div",{className:Y.results,children:null!==r&&Object(C.jsxs)(s.a,{component:"p",children:["Total results: ",r.totalResults]})})},V=function(){return _&&L&&Object(C.jsx)("div",{className:Y.difference,children:null!==r&&Object(C.jsxs)(s.a,{component:"p",color:"inherit",children:["Price difference: R",_.price>L.price?_.price-L.price:L.price-_.price]})})};return Object(C.jsxs)(d.a.Fragment,{children:[Object(C.jsx)("div",{className:Y.logo,children:Object(C.jsx)("img",{src:"logo.png",width:"25%",height:"25%",alt:"Super Saiyan Search Logo"})}),Object(C.jsxs)("div",{className:Y.search,children:[!T&&Object(C.jsx)(p.a,{id:"search",label:"Keyword","aria-label":"Keyword",value:null!==h?h:"",onChange:function(e){return v(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&M()},fullWidth:!0,required:!0}),null===r&&T&&Object(C.jsx)("div",{className:Y.progress,children:Object(C.jsx)(b.a,{"aria-label":"loading"})})]}),Object(C.jsx)("div",{className:Y.searchButton,children:!T&&Object(C.jsx)(x.a,{variant:"contained",color:"primary","aria-label":"Search",onClick:function(){M()},children:"Search"})}),Object(C.jsx)(Q,{}),Object(C.jsx)(V,{}),Object(C.jsx)("div",{className:Y.root,children:Object(C.jsx)(f.a,{component:"ul",children:null!==r&&r.products.map((function(e,t){return Object(C.jsx)(O.a,{children:Object(C.jsxs)("div",{className:Y.linkCheck,children:[Object(C.jsx)(o.a,{color:"inherit",href:e.sourceUrl,target:"_blank",children:Object(C.jsx)("img",{src:e.imageUrl,alt:e.name,width:"128px",height:"128px"})}),Object(C.jsx)(g.a,{title:Object(C.jsx)(o.a,{color:"inherit",href:e.sourceUrl,target:"_blank",children:e.name}),subtitle:Object(C.jsxs)(d.a.Fragment,{children:[Object(C.jsxs)("div",{children:["Price: R",e.price]}),Object(C.jsxs)("div",{children:["Source: ",e.source]})]}),actionIcon:Object(C.jsx)(m.a,{title:e.name,"aria-label":e.name,children:Object(C.jsx)(S.a,{})})}),Object(C.jsx)(y.a,{color:"primary",checked:_===e||L===e,inputProps:{"aria-label":e.name},onChange:function(t){return function(e,t){e.target.checked?(A(t),null===L&&t!==_&&H(t)):(A(null),H(null))}(t,e)}})]})},"".concat(e.source,"-").concat(t))}))})}),Object(C.jsx)(Q,{}),Object(C.jsx)(k.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:z,message:Object(C.jsx)("span",{children:K}),autoHideDuration:6e3,onClose:function(e,t){"clickaway"!==t&&D(!1)}})]})},U=c(59),T=function(){return Object(C.jsxs)(s.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright ","\u2122"," Super Saiyan Search ",(new Date).getFullYear(),".",Object(C.jsx)(q,{})]})},q=function(){return Object(C.jsx)("div",{children:Object(C.jsxs)(o.a,{href:"https://github.com/chesterc314/supersaiyansearch",target:"_blank",children:[Object(C.jsx)("img",{src:"github.ico",alt:"Github logo",width:"64px",height:"64px"}),Object(C.jsx)("div",{children:"Source code"})]})})},B=function(){return Object(C.jsxs)(l.a,{maxWidth:"xl",children:[Object(C.jsx)(N,{hostUrl:U.hostUrl}),Object(C.jsx)(T,{})]})},E=c(45),z=c(60),D=Object(z.a)({palette:{primary:{main:"#007bff"},secondary:{main:"#19857b"},error:{main:E.a.A400},background:{default:"#fff"}}});r.a.render(Object(C.jsxs)(i.a,{theme:D,children:[Object(C.jsx)(a.a,{}),Object(C.jsx)(B,{})]}),document.querySelector("#root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.b99c5c37.chunk.js.map